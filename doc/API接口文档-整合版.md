# å°å­¦æ•™åŠ¡ç®¡ç†ç³»ç»Ÿ - APIæ¥å£æ–‡æ¡£

> **æ–‡æ¡£ç‰ˆæœ¬**: v4.0
> **æœ€åæ›´æ–°**: 2025-11-20
> **ç»„ç»‡æ–¹å¼**: ä¸¥æ ¼æŒ‰ç…§æ•°æ®åº“èœå•æ ‘(sys_menu)ç»„ç»‡

---

## ğŸ“Œ æ–‡æ¡£è¯´æ˜

æœ¬æ–‡æ¡£**ä¸¥æ ¼æŒ‰ç…§æ•°æ®åº“èœå•æ ‘(sys_menuè¡¨)**çš„ç»“æ„ç»„ç»‡ï¼Œç¡®ä¿å‰ç«¯èœå•ä¸åç«¯æ¥å£å®Œå…¨å¯¹åº”ã€‚

**å›¾ä¾‹è¯´æ˜**ï¼š
- âœ… **å·²å®ç°** - æ¥å£å·²å®Œæˆå¼€å‘å¹¶å¯æ­£å¸¸ä½¿ç”¨
- âš ï¸ **éƒ¨åˆ†å®ç°** - æ¥å£å·²å¼€å‘ä½†åŠŸèƒ½ä¸å®Œæ•´
- ğŸš§ **æœªå®ç°** - æ¥å£è®¾è®¡å·²ç¡®å®šä½†å°šæœªå¼€å‘
- ğŸ“‹ **èœå•ID** - å¯¹åº”sys_menuè¡¨ä¸­çš„èœå•ID

---

## ğŸ“‹ ç³»ç»Ÿèœå•æ ‘æ€»è§ˆ

```
å°å­¦æ•™åŠ¡ç®¡ç†ç³»ç»Ÿ
â”œâ”€â”€ 1. é¦–é¡µ
â”œâ”€â”€ 10. ç”¨æˆ·ç®¡ç† (ç›®å½•)
â”‚   â”œâ”€â”€ 11. ç”¨æˆ·åˆ—è¡¨ (èœå•)
â”‚   â””â”€â”€ 12. ç”¨æˆ·è§’è‰² (èœå•)
â”œâ”€â”€ 20. èœå•ç®¡ç† (èœå•)
â”œâ”€â”€ 30. å­¦ç”Ÿç®¡ç† (èœå•)
â”œâ”€â”€ 40. æ•™å¸ˆç®¡ç† (èœå•)
â”œâ”€â”€ 50. ç­çº§ç®¡ç† (èœå•)
â”œâ”€â”€ 60. è¯¾ç¨‹ç®¡ç† (ç›®å½•)
â”‚   â”œâ”€â”€ 61. è¯¾ç¨‹åˆ—è¡¨ (èœå•)
â”‚   â”œâ”€â”€ 62. è¯¾ç¨‹è¯¦æƒ… (èœå•)
â”‚   â””â”€â”€ 63. æ’è¯¾ç®¡ç† (èœå•)
â”œâ”€â”€ 70. è¯·å‡ç®¡ç† (èœå•)
â””â”€â”€ 80. å®¡æ‰¹ç®¡ç† (ç›®å½•)
    â”œâ”€â”€ 81. å­¦ç”Ÿè¯·å‡ (èœå•)
    â”œâ”€â”€ 82. è°ƒè¯¾ç”³è¯· (èœå•)
    â”œâ”€â”€ 83. æ¢è¯¾ç”³è¯· (èœå•)
    â””â”€â”€ 84. è°ƒç­ç”³è¯· (èœå•)
```

---

## ğŸ“– ç›®å½•

- [ä¸€ã€ç³»ç»Ÿç®¡ç†](#ä¸€ç³»ç»Ÿç®¡ç†)
  - [1.0 ç”¨æˆ·è®¤è¯](#10-ç”¨æˆ·è®¤è¯)
  - [1.1 ç”¨æˆ·ç®¡ç† (èœå•ID: 10)](#11-ç”¨æˆ·ç®¡ç†-èœå•id-10)
    - [1.1.1 ç”¨æˆ·åˆ—è¡¨ (èœå•ID: 11)](#111-ç”¨æˆ·åˆ—è¡¨-èœå•id-11)
    - [1.1.2 ç”¨æˆ·è§’è‰² (èœå•ID: 12)](#112-ç”¨æˆ·è§’è‰²-èœå•id-12)
  - [1.2 èœå•ç®¡ç† (èœå•ID: 20)](#12-èœå•ç®¡ç†-èœå•id-20)
- [äºŒã€æ•™åŠ¡ç®¡ç†](#äºŒæ•™åŠ¡ç®¡ç†)
  - [2.1 å­¦ç”Ÿç®¡ç† (èœå•ID: 30)](#21-å­¦ç”Ÿç®¡ç†-èœå•id-30)
  - [2.2 æ•™å¸ˆç®¡ç† (èœå•ID: 40)](#22-æ•™å¸ˆç®¡ç†-èœå•id-40)
  - [2.3 ç­çº§ç®¡ç† (èœå•ID: 50)](#23-ç­çº§ç®¡ç†-èœå•id-50)
  - [2.4 è¯¾ç¨‹ç®¡ç† (èœå•ID: 60)](#24-è¯¾ç¨‹ç®¡ç†-èœå•id-60)
    - [2.4.1 è¯¾ç¨‹åˆ—è¡¨ (èœå•ID: 61)](#241-è¯¾ç¨‹åˆ—è¡¨-èœå•id-61)
    - [2.4.2 è¯¾ç¨‹è¯¦æƒ… (èœå•ID: 62)](#242-è¯¾ç¨‹è¯¦æƒ…-èœå•id-62)
    - [2.4.3 æ’è¯¾ç®¡ç† (èœå•ID: 63)](#243-æ’è¯¾ç®¡ç†-èœå•id-63)
- [ä¸‰ã€ä¸šåŠ¡æµç¨‹](#ä¸‰ä¸šåŠ¡æµç¨‹)
  - [3.1 è¯·å‡ç®¡ç† (èœå•ID: 70)](#31-è¯·å‡ç®¡ç†-èœå•id-70)
  - [3.2 å®¡æ‰¹ç®¡ç† (èœå•ID: 80)](#32-å®¡æ‰¹ç®¡ç†-èœå•id-80)
    - [3.2.1 å­¦ç”Ÿè¯·å‡ (èœå•ID: 81)](#321-å­¦ç”Ÿè¯·å‡-èœå•id-81)
    - [3.2.2 è°ƒè¯¾ç”³è¯· (èœå•ID: 82)](#322-è°ƒè¯¾ç”³è¯·-èœå•id-82)
    - [3.2.3 æ¢è¯¾ç”³è¯· (èœå•ID: 83)](#323-æ¢è¯¾ç”³è¯·-èœå•id-83)
    - [3.2.4 è°ƒç­ç”³è¯· (èœå•ID: 84)](#324-è°ƒç­ç”³è¯·-èœå•id-84)
- [é™„å½•](#é™„å½•)

---

## ä¸€ã€ç³»ç»Ÿç®¡ç†

### 1.0 ç”¨æˆ·è®¤è¯

#### 1.0.1 ç”¨æˆ·ç™»å½• âœ…

**æ¥å£åœ°å€**: `POST /api/user/login`

**åŠŸèƒ½æè¿°**: ç”¨æˆ·ç™»å½•éªŒè¯ï¼ŒæˆåŠŸåè¿”å›JWT Token

**è¯·æ±‚å‚æ•°**:
```json
{
  "identifier": "admin",
  "password": "admin123"
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "msg": "æ“ä½œæˆåŠŸ",
  "dataset": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

**å®ç°ä½ç½®**: `UserController.java:50`

---

#### 1.0.2 ç”¨æˆ·ç™»å‡º âœ…

**æ¥å£åœ°å€**: `POST /api/user/logout`

**åŠŸèƒ½æè¿°**: ç”¨æˆ·ç™»å‡ºï¼Œå°†TokenåŠ å…¥é»‘åå•

**è¯·æ±‚å¤´**: `Authorization: Bearer <token>`

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "msg": "ç™»å‡ºæˆåŠŸ"
}
```

**å®ç°ä½ç½®**: `UserController.java:80`

---

### 1.1 ç”¨æˆ·ç®¡ç† (èœå•ID: 10)

#### 1.1.1 ç”¨æˆ·åˆ—è¡¨ (èœå•ID: 11)

##### æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨ âœ…

**æ¥å£åœ°å€**: `GET /api/users`

**åŠŸèƒ½æè¿°**: æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨ï¼Œæ”¯æŒæ¡ä»¶ç­›é€‰å’Œåˆ†é¡µ

**è¯·æ±‚å‚æ•°**:
- `username` - ç”¨æˆ·åï¼ˆæ¨¡ç³ŠæŸ¥è¯¢ï¼‰
- `realName` - çœŸå®å§“åï¼ˆæ¨¡ç³ŠæŸ¥è¯¢ï¼‰
- `userType` - ç”¨æˆ·ç±»å‹ï¼š1-ç®¡ç†å‘˜ 2-æ•™å¸ˆ 3-å­¦ç”Ÿ 4-å®¶é•¿
- `status` - çŠ¶æ€ï¼š0-ç¦ç”¨ 1-å¯ç”¨
- `page` - é¡µç ï¼Œé»˜è®¤1
- `size` - æ¯é¡µæ¡æ•°ï¼Œé»˜è®¤10

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "msg": "æ“ä½œæˆåŠŸ",
  "dataset": {
    "total": 100,
    "records": [...],
    "page": 1,
    "size": 10
  }
}
```

**å®ç°ä½ç½®**: `UserManagementController.java:84`

---

##### æ·»åŠ ç”¨æˆ· âœ… (æŒ‰é’®ID: 13)

**æ¥å£åœ°å€**: `POST /api/users`

**åŠŸèƒ½æè¿°**: æ·»åŠ æ–°ç”¨æˆ·ï¼Œæ”¯æŒä¸Šä¼ å¤´åƒ

**è¯·æ±‚æ ¼å¼**: `multipart/form-data`

**è¯·æ±‚å‚æ•°**:
- `username` (å¿…å¡«) - ç™»å½•è´¦å·
- `password` (å¿…å¡«) - å¯†ç 
- `realName` (å¿…å¡«) - çœŸå®å§“å
- `userType` (å¿…å¡«) - ç”¨æˆ·ç±»å‹
- `avatarFile` (å¯é€‰) - å¤´åƒæ–‡ä»¶
- `phone` (å¯é€‰) - æ‰‹æœºå·
- `email` (å¯é€‰) - é‚®ç®±
- `gender` (å¯é€‰) - æ€§åˆ«ï¼š1-ç”· 2-å¥³

**å®ç°ä½ç½®**: `UserManagementController.java:38`

---

##### ä¿®æ”¹ç”¨æˆ· âœ… (æŒ‰é’®ID: 14)

**æ¥å£åœ°å€**: `PUT /api/users/{id}`

**åŠŸèƒ½æè¿°**: ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯ï¼Œæ”¯æŒæ›´æ–°å¤´åƒ

**å®ç°ä½ç½®**: `UserManagementController.java:96`

---

##### åˆ é™¤ç”¨æˆ· âœ… (æŒ‰é’®ID: 15)

**æ¥å£åœ°å€**: `DELETE /api/users/{id}`

**åŠŸèƒ½æè¿°**: åˆ é™¤ç”¨æˆ·ï¼ˆè½¯åˆ é™¤ï¼‰

**å®ç°ä½ç½®**: `UserManagementController.java:144`

---

##### ç”¨æˆ·è¯¦æƒ… âœ…

**æ¥å£åœ°å€**: `GET /api/users/{id}`

**åŠŸèƒ½æè¿°**: æŸ¥è¯¢ç”¨æˆ·è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬è§’è‰²ä¿¡æ¯

**å®ç°ä½ç½®**: `UserManagementController.java:152`

---

#### 1.1.2 ç”¨æˆ·è§’è‰² (èœå•ID: 12)

##### åˆ†é…è§’è‰²ç»™ç”¨æˆ· âœ…

**æ¥å£åœ°å€**: `POST /api/users/{id}/roles`

**åŠŸèƒ½æè¿°**: ä¸ºç”¨æˆ·åˆ†é…ä¸€ä¸ªæˆ–å¤šä¸ªè§’è‰²

**è¯·æ±‚å‚æ•°**:
```json
{
  "roleIds": [1, 2, 3]
}
```

**å®ç°ä½ç½®**: `UserManagementController.java:195`

---

##### è·å–ç”¨æˆ·è§’è‰²åˆ—è¡¨ âœ…

**æ¥å£åœ°å€**: `GET /api/users/{id}/roles`

**åŠŸèƒ½æè¿°**: æŸ¥è¯¢ç”¨æˆ·çš„è§’è‰²åˆ—è¡¨

**å®ç°ä½ç½®**: `UserManagementController.java:207`

---

##### åˆ›å»ºè§’è‰² âœ…

**æ¥å£åœ°å€**: `POST /api/roles`

**åŠŸèƒ½æè¿°**: åˆ›å»ºæ–°è§’è‰²

**æƒé™è¦æ±‚**: è¶…çº§ç®¡ç†å‘˜

**å®ç°ä½ç½®**: `RoleController.java:34`

---

##### æ›´æ–°è§’è‰² âœ…

**æ¥å£åœ°å€**: `PUT /api/roles/{id}`

**åŠŸèƒ½æè¿°**: æ›´æ–°è§’è‰²ä¿¡æ¯

**å®ç°ä½ç½®**: `RoleController.java:46`

---

##### åˆ é™¤è§’è‰² âœ…

**æ¥å£åœ°å€**: `DELETE /api/roles/{id}`

**åŠŸèƒ½æè¿°**: åˆ é™¤è§’è‰²

**å®ç°ä½ç½®**: `RoleController.java:58`

---

##### æŸ¥è¯¢è§’è‰²è¯¦æƒ… âœ…

**æ¥å£åœ°å€**: `GET /api/roles/{id}`

**åŠŸèƒ½æè¿°**: æŸ¥è¯¢è§’è‰²è¯¦ç»†ä¿¡æ¯

**å®ç°ä½ç½®**: `RoleController.java:69`

---

##### æŸ¥è¯¢æ‰€æœ‰è§’è‰² âœ…

**æ¥å£åœ°å€**: `GET /api/roles`

**åŠŸèƒ½æè¿°**: æŸ¥è¯¢æ‰€æœ‰è§’è‰²åˆ—è¡¨

**å®ç°ä½ç½®**: `RoleController.java:80`

---

##### æŸ¥è¯¢è§’è‰²ä¸‹çš„ç”¨æˆ· âœ…

**æ¥å£åœ°å€**: `GET /api/roles/{id}/users`

**åŠŸèƒ½æè¿°**: æŸ¥è¯¢è§’è‰²ä¸‹çš„ç”¨æˆ·åˆ—è¡¨

**å®ç°ä½ç½®**: `RoleController.java:91`

---

### 1.2 èœå•ç®¡ç† (èœå•ID: 20)

#### è·å–èœå•æ ‘ âœ…

**æ¥å£åœ°å€**: `GET /api/menu/tree`

**åŠŸèƒ½æè¿°**: è·å–ç³»ç»Ÿèœå•æ ‘å½¢ç»“æ„

**å®ç°ä½ç½®**: `MenuController.java:32`

---

#### è·å–èœå•åˆ—è¡¨ âœ…

**æ¥å£åœ°å€**: `GET /api/menu/list`

**åŠŸèƒ½æè¿°**: åˆ†é¡µè·å–æ‰€æœ‰èœå•åˆ—è¡¨

**è¯·æ±‚å‚æ•°**:
- `page` - é¡µç 
- `size` - æ¯é¡µæ¡æ•°

**å®ç°ä½ç½®**: `MenuController.java:43`

---

#### è·å–èœå•è¯¦æƒ… âœ…

**æ¥å£åœ°å€**: `GET /api/menu/{id}`

**å®ç°ä½ç½®**: `MenuController.java:54`

---

#### æ·»åŠ èœå• âœ… (æŒ‰é’®ID: 21)

**æ¥å£åœ°å€**: `POST /api/menu`

**æƒé™è¦æ±‚**: è¶…çº§ç®¡ç†å‘˜

**å®ç°ä½ç½®**: `MenuController.java:66`

---

#### ä¿®æ”¹èœå• âœ… (æŒ‰é’®ID: 22)

**æ¥å£åœ°å€**: `PUT /api/menu/{id}`

**æƒé™è¦æ±‚**: è¶…çº§ç®¡ç†å‘˜

**å®ç°ä½ç½®**: `MenuController.java:78`

---

#### åˆ é™¤èœå• âœ… (æŒ‰é’®ID: 23)

**æ¥å£åœ°å€**: `DELETE /api/menu/{id}`

**æƒé™è¦æ±‚**: è¶…çº§ç®¡ç†å‘˜

**å®ç°ä½ç½®**: `MenuController.java:90`

---

## äºŒã€æ•™åŠ¡ç®¡ç†

### 2.1 å­¦ç”Ÿç®¡ç† (èœå•ID: 30)

#### å­¦ç”Ÿåˆ—è¡¨æŸ¥è¯¢ âœ…

**æ¥å£åœ°å€**: `GET /api/student/list`

**åŠŸèƒ½æè¿°**: æŸ¥è¯¢å­¦ç”Ÿåˆ—è¡¨ï¼Œæ”¯æŒæ¡ä»¶ç­›é€‰

**å®ç°ä½ç½®**: `StudentController.java:35`

---

#### æ·»åŠ å­¦ç”Ÿ âœ… (æŒ‰é’®ID: 31)

**æ¥å£åœ°å€**: `POST /api/student`

**å®ç°ä½ç½®**: `StudentController.java:22`

---

#### ä¿®æ”¹å­¦ç”Ÿ âœ… (æŒ‰é’®ID: 32)

**æ¥å£åœ°å€**: `PUT /api/student/{id}`

**å®ç°ä½ç½®**: `StudentController.java:44`

---

#### åˆ é™¤å­¦ç”Ÿ âœ… (æŒ‰é’®ID: 33)

**æ¥å£åœ°å€**: `DELETE /api/student/{id}`

**å®ç°ä½ç½®**: `StudentController.java:57`

---

#### æŸ¥çœ‹å­¦ç”Ÿè¯¦æƒ… ğŸš§ (æŒ‰é’®ID: 34)

**æ¥å£åœ°å€**: `GET /api/student/{id}`

**å®ç°çŠ¶æ€**: ğŸš§ æœªå®ç°

---

### 2.2 æ•™å¸ˆç®¡ç† (èœå•ID: 40)

#### æ•™å¸ˆåˆ—è¡¨æŸ¥è¯¢ âœ…

**æ¥å£åœ°å€**: `GET /api/teacher/list`

**åŠŸèƒ½æè¿°**: æŸ¥è¯¢æ•™å¸ˆåˆ—è¡¨ï¼Œæ”¯æŒæ¡ä»¶ç­›é€‰ï¼ˆå§“åã€å·¥å·ã€èŒç§°ï¼‰

**è¯·æ±‚å‚æ•°**:
- `teacherName` - æ•™å¸ˆå§“åï¼ˆæ¨¡ç³ŠæŸ¥è¯¢ï¼‰
- `teacherNo` - æ•™å¸ˆå·¥å·
- `title` - èŒç§°

**å®ç°ä½ç½®**: `TeacherController.java:24`

---

#### æ•™å¸ˆè¯¦æƒ… âœ…

**æ¥å£åœ°å€**: `GET /api/teacher/{id}`

**åŠŸèƒ½æè¿°**: æ ¹æ®æ•™å¸ˆIDæŸ¥è¯¢æ•™å¸ˆè¯¦ç»†ä¿¡æ¯

**å®ç°ä½ç½®**: `TeacherController.java:18`

---

#### æ·»åŠ æ•™å¸ˆ âœ… (æŒ‰é’®ID: 41)

**æ¥å£åœ°å€**: `POST /api/teacher`

**å®ç°ä½ç½®**: `TeacherController.java:35`

---

#### ä¿®æ”¹æ•™å¸ˆ âœ… (æŒ‰é’®ID: 42)

**æ¥å£åœ°å€**: `PUT /api/teacher/{id}`

**å®ç°ä½ç½®**: `TeacherController.java:45`

---

#### åˆ é™¤æ•™å¸ˆ âœ… (æŒ‰é’®ID: 43)

**æ¥å£åœ°å€**: `DELETE /api/teacher/{id}`

**å®ç°ä½ç½®**: `TeacherController.java:40`

---

#### æŸ¥çœ‹æ•™å¸ˆè¯¦æƒ… ğŸš§ (æŒ‰é’®ID: 44)

**è¯´æ˜**: å·²æœ‰ `GET /api/teacher/{id}` æ¥å£å®ç°

---

#### æ ¹æ®ç§‘ç›®è·å–æ•™å¸ˆ âœ…

**æ¥å£åœ°å€**: `GET /api/teacher/subject/{subjectId}`

**åŠŸèƒ½æè¿°**: æ ¹æ®ç§‘ç›®IDè·å–èƒ½æ•™è¯¥ç§‘ç›®çš„æ•™å¸ˆåˆ—è¡¨ï¼ˆç”¨äºæ’è¯¾ï¼‰

**å®ç°ä½ç½®**: `TeacherController.java:60`

---

#### è·å–æ•™å¸ˆè¯¾ç¨‹ âœ…

**æ¥å£åœ°å€**: `GET /api/teacher/crouses`

**åŠŸèƒ½æè¿°**: è·å–æ•™å¸ˆçš„è¯¾ç¨‹åˆ—è¡¨

**å®ç°ä½ç½®**: `TeacherController.java:49`

---

### 2.3 ç­çº§ç®¡ç† (èœå•ID: 50)

#### ç­çº§åˆ—è¡¨æŸ¥è¯¢ âœ…

**æ¥å£åœ°å€**: `GET /api/class/list`

**å®ç°ä½ç½®**: `ClassesController.java:16`

---

#### æ·»åŠ ç­çº§ âœ… (æŒ‰é’®ID: 51)

**æ¥å£åœ°å€**: `POST /api/class`

**å®ç°ä½ç½®**: `ClassesController.java:20`

---

#### ä¿®æ”¹ç­çº§ âœ… (æŒ‰é’®ID: 52)

**æ¥å£åœ°å€**: `PUT /api/class/{id}`

**å®ç°ä½ç½®**: `ClassesController.java:28`

---

#### åˆ é™¤ç­çº§ âœ… (æŒ‰é’®ID: 53)

**æ¥å£åœ°å€**: `DELETE /api/class/{id}`

**å®ç°ä½ç½®**: `ClassesController.java:24`

---

#### å­¦ç”Ÿä¿¡æ¯ ğŸš§ (èœå•ID: 54)

**è·¯ç”±**: `/class/student`

**å®ç°çŠ¶æ€**: ğŸš§ æœªå®ç°

**å»ºè®®æ¥å£**: `GET /api/class/{id}/students` - æŸ¥è¯¢ç­çº§å­¦ç”Ÿåˆ—è¡¨

---

#### è¯¾ç¨‹ä¿¡æ¯ ğŸš§ (èœå•ID: 55)

**è·¯ç”±**: `/class/course`

**å®ç°çŠ¶æ€**: ğŸš§ æœªå®ç°

**å»ºè®®æ¥å£**: `GET /api/class/{id}/courses` - æŸ¥è¯¢ç­çº§è¯¾ç¨‹åˆ—è¡¨

---

#### è°ƒç­ç®¡ç† ğŸš§ (èœå•ID: 56)

**è·¯ç”±**: `/class/transfer`

**å®ç°çŠ¶æ€**: ğŸš§ æœªå®ç°

**å»ºè®®æ¥å£**: `GET /api/class/transfer` - æŸ¥è¯¢è°ƒç­ç”³è¯·åˆ—è¡¨

---

### 2.4 è¯¾ç¨‹ç®¡ç† (èœå•ID: 60)

#### 2.4.1 è¯¾ç¨‹åˆ—è¡¨ (èœå•ID: 61)

##### æŸ¥è¯¢è¯¾ç¨‹åˆ—è¡¨ âœ…

**æ¥å£åœ°å€**: `GET /api/course/list`

**åŠŸèƒ½æè¿°**: æŸ¥è¯¢è¯¾ç¨‹åˆ—è¡¨

**è¯·æ±‚å‚æ•°**:
- `subjectId` - ç§‘ç›®ID

**å®ç°ä½ç½®**: `CourseController.java:80`

---

##### æ·»åŠ è¯¾ç¨‹ âœ… (æŒ‰é’®ID: 64)

**æ¥å£åœ°å€**: `POST /api/course`

**å®ç°ä½ç½®**: `CourseController.java:25`

---

##### ä¿®æ”¹è¯¾ç¨‹ âœ… (æŒ‰é’®ID: 65)

**æ¥å£åœ°å€**: `PUT /api/course/{id}`

**å®ç°ä½ç½®**: `CourseController.java:49`

---

##### åˆ é™¤è¯¾ç¨‹ âš ï¸ (æŒ‰é’®ID: 66)

**æ¥å£åœ°å€**: `DELETE /api/course/{id}`

**å®ç°çŠ¶æ€**: âš ï¸ éƒ¨åˆ†å®ç°ï¼ˆè¿”å›nullï¼‰

**å®ç°ä½ç½®**: `CourseController.java:59`

---

#### 2.4.2 è¯¾ç¨‹è¯¦æƒ… (èœå•ID: 62)

##### è·å–è¯¾ç¨‹è¯¦æƒ… âœ…

**æ¥å£åœ°å€**: `GET /api/course/{id}`

**å®ç°ä½ç½®**: `CourseController.java:72`

---

#### 2.4.3 æ’è¯¾ç®¡ç† (èœå•ID: 63)

##### è·å–æ’è¯¾åˆå§‹åŒ–æ•°æ® âœ…

**æ¥å£åœ°å€**: `GET /api/schedule/init-data`

**åŠŸèƒ½æè¿°**: ä¸€æ¬¡æ€§è¿”å›æ‰€æœ‰æ’è¯¾æ‰€éœ€çš„åŸºç¡€æ•°æ®ï¼ˆç§‘ç›®ã€æ•™å¸ˆã€ç­çº§åŠå…¶å…³è”å…³ç³»ï¼‰

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "msg": "æ“ä½œæˆåŠŸ",
  "dataset": {
    "subjects": [...],
    "teachers": [...],
    "classes": [...],
    "subjectTeachers": [...]
  }
}
```

**å®ç°ä½ç½®**: `ScheduleController.java:42`

**ä¼˜åŠ¿**:
- å‡å°‘HTTPè¯·æ±‚æ¬¡æ•°
- é¿å…ç½‘ç»œå»¶è¿Ÿ
- æ•°æ®ä¸€è‡´æ€§æ›´å¥½
- æ”¯æŒç¦»çº¿æ“ä½œ

---

## ä¸‰ã€ä¸šåŠ¡æµç¨‹

### 3.1 è¯·å‡ç®¡ç† (èœå•ID: 70)

#### æäº¤è¯·å‡ç”³è¯· âœ… (æŒ‰é’®ID: 71)

**æ¥å£åœ°å€**: `POST /api/leave`

**åŠŸèƒ½æè¿°**: å­¦ç”Ÿ/å®¶é•¿æäº¤è¯·å‡ç”³è¯·

**è¯·æ±‚å‚æ•°**:
```json
{
  "studentId": 1,
  "leaveType": 1,
  "startDate": "2024-11-20",
  "endDate": "2024-11-22",
  "leaveDays": 3,
  "reason": "æ„Ÿå†’å‘çƒ§",
  "proofFiles": []
}
```

**å®ç°ä½ç½®**: `LeaveController.java:23`

---

#### æŸ¥çœ‹è¯·å‡è¯¦æƒ… âœ… (æŒ‰é’®ID: 72)

**æ¥å£åœ°å€**: `GET /api/leave/{id}`

**å®ç°ä½ç½®**: `LeaveController.java:32`

---

#### æˆ‘çš„è¯·å‡è®°å½• âœ…

**æ¥å£åœ°å€**: `GET /api/leave/my`

**è¯·æ±‚å‚æ•°**:
- `studentId` - å­¦ç”ŸID
- `page` - é¡µç 
- `size` - æ¯é¡µæ¡æ•°

**å®ç°ä½ç½®**: `LeaveController.java:39`

---

#### æ’¤å›è¯·å‡ âœ…

**æ¥å£åœ°å€**: `PUT /api/leave/{id}/cancel`

**å®ç°ä½ç½®**: `LeaveController.java:49`

---

#### å¾…å®¡æ‰¹è¯·å‡åˆ—è¡¨ âœ…

**æ¥å£åœ°å€**: `GET /api/leave/pending`

**è¯·æ±‚å‚æ•°**:
- `classId` - ç­çº§ID
- `page` - é¡µç 
- `size` - æ¯é¡µæ¡æ•°

**å®ç°ä½ç½®**: `LeaveController.java:58`

---

### 3.2 å®¡æ‰¹ç®¡ç† (èœå•ID: 80)

#### 3.2.1 å­¦ç”Ÿè¯·å‡ (èœå•ID: 81)

**è¯´æ˜**: å­¦ç”Ÿè¯·å‡å®¡æ‰¹ï¼Œè¯¦è§ [3.1 è¯·å‡ç®¡ç†](#31-è¯·å‡ç®¡ç†-èœå•id-70)

**ä¸»è¦æ¥å£**:
- `GET /api/leave/pending` - å¾…å®¡æ‰¹åˆ—è¡¨
- `POST /api/approval/{id}/submit` - æäº¤å®¡æ‰¹

---

#### 3.2.2 è°ƒè¯¾ç”³è¯· (èœå•ID: 82)

##### æäº¤è°ƒè¯¾ç”³è¯· âœ…

**æ¥å£åœ°å€**: `POST /api/course-change`

**åŠŸèƒ½æè¿°**: æ•™å¸ˆæäº¤è°ƒè¯¾ç”³è¯·

**è¯·æ±‚å‚æ•°**:
```json
{
  "scheduleId": 123,
  "originalDate": "2024-11-20",
  "newDate": "2024-11-21",
  "reason": "ä¸´æ—¶æœ‰äº‹"
}
```

**å®ç°ä½ç½®**: `CourseChangeController.java:24`

---

##### æŸ¥è¯¢è°ƒè¯¾è¯¦æƒ… âœ…

**æ¥å£åœ°å€**: `GET /api/course-change/{id}`

**å®ç°ä½ç½®**: `CourseChangeController.java:33`

---

##### æˆ‘çš„è°ƒè¯¾è®°å½• âœ…

**æ¥å£åœ°å€**: `GET /api/course-change/my`

**è¯·æ±‚å‚æ•°**:
- `teacherId` - æ•™å¸ˆID
- `page` - é¡µç 
- `size` - æ¯é¡µæ¡æ•°

**å®ç°ä½ç½®**: `CourseChangeController.java:40`

---

#### 3.2.3 æ¢è¯¾ç”³è¯· (èœå•ID: 83)

##### æäº¤æ¢è¯¾ç”³è¯· âœ…

**æ¥å£åœ°å€**: `POST /api/course-swap`

**åŠŸèƒ½æè¿°**: æ•™å¸ˆæäº¤æ¢è¯¾ç”³è¯·ï¼ˆä¸å¦ä¸€ä½æ•™å¸ˆäº¤æ¢è¯¾ç¨‹ï¼‰

**è¯·æ±‚å‚æ•°**:
```json
{
  "myScheduleId": 123,
  "targetScheduleId": 456,
  "targetTeacherId": 20,
  "reason": "æ—¶é—´å†²çª"
}
```

**å®ç°ä½ç½®**: `CourseSwapController.java:25`

---

##### å¯¹æ–¹ç¡®è®¤æ¢è¯¾ âœ…

**æ¥å£åœ°å€**: `PUT /api/course-swap/{id}/confirm`

**è¯·æ±‚å‚æ•°**:
- `confirm` - true-åŒæ„ false-æ‹’ç»

**å®ç°ä½ç½®**: `CourseSwapController.java:44`

---

##### æˆ‘çš„æ¢è¯¾è®°å½• âœ…

**æ¥å£åœ°å€**: `GET /api/course-swap/my`

**è¯·æ±‚å‚æ•°**:
- `teacherId` - æ•™å¸ˆID
- `page` - é¡µç 
- `size` - æ¯é¡µæ¡æ•°

**å®ç°ä½ç½®**: `CourseSwapController.java:34`

---

#### 3.2.4 è°ƒç­ç”³è¯· (èœå•ID: 84)

##### æäº¤è°ƒç­ç”³è¯· âœ…

**æ¥å£åœ°å€**: `POST /api/class-transfer`

**åŠŸèƒ½æè¿°**: å®¶é•¿/å­¦ç”Ÿæäº¤è°ƒç­ç”³è¯·

**è¯·æ±‚å‚æ•°**:
```json
{
  "studentId": 100,
  "currentClassId": 1,
  "targetClassId": 2,
  "reason": "å®¶åº­ä½å€å˜æ›´"
}
```

**å®ç°ä½ç½®**: `ClassTransferController.java:24`

---

##### æŸ¥è¯¢è°ƒç­è¯¦æƒ… âœ…

**æ¥å£åœ°å€**: `GET /api/class-transfer/{id}`

**å®ç°ä½ç½®**: `ClassTransferController.java:33`

---

##### æˆ‘çš„è°ƒç­è®°å½• âœ…

**æ¥å£åœ°å€**: `GET /api/class-transfer/my`

**è¯·æ±‚å‚æ•°**:
- `studentId` - å­¦ç”ŸID
- `page` - é¡µç 
- `size` - æ¯é¡µæ¡æ•°

**å®ç°ä½ç½®**: `ClassTransferController.java:40`

---

## é™„å½•

### A. é€šç”¨å“åº”æ ¼å¼

```json
{
  "code": 200,
  "msg": "æ“ä½œæˆåŠŸ",
  "dataset": {}
}
```

**çŠ¶æ€ç è¯´æ˜**:
- `200` - æ“ä½œæˆåŠŸ
- `400` - è¯·æ±‚å‚æ•°é”™è¯¯
- `401` - æœªæˆæƒ
- `403` - æ— æƒé™
- `404` - èµ„æºä¸å­˜åœ¨
- `500` - æœåŠ¡å™¨é”™è¯¯

---

### B. æ•°æ®å­—å…¸

#### ç”¨æˆ·ç±»å‹ (user_type)
- `1` - ç®¡ç†å‘˜
- `2` - æ•™å¸ˆ
- `3` - å­¦ç”Ÿ
- `4` - å®¶é•¿

#### æ€§åˆ« (gender)
- `1` - ç”·
- `2` - å¥³

#### èœå•ç±»å‹ (menu_type)
- `1` - ç›®å½•
- `2` - èœå•
- `3` - æŒ‰é’®

#### è¯·å‡ç±»å‹ (leave_type)
- `1` - ç—…å‡
- `2` - äº‹å‡
- `3` - å…¶ä»–

#### å®¡æ‰¹çŠ¶æ€ (approval_status)
- `1` - å¾…å®¡æ‰¹
- `2` - å®¡æ‰¹ä¸­
- `3` - å·²é€šè¿‡
- `4` - å·²æ‹’ç»
- `5` - å·²æ’¤å›

---

### C. Tokenä½¿ç”¨è¯´æ˜

1. **è·å–Token**: è°ƒç”¨ç™»å½•æ¥å£è·å–JWT Token
2. **ä½¿ç”¨Token**: åœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ  `Authorization: Bearer <token>`
3. **Tokenæœ‰æ•ˆæœŸ**: é»˜è®¤24å°æ—¶
4. **Tokenåˆ·æ–°**: æš‚æœªå®ç°è‡ªåŠ¨åˆ·æ–°

---

## ğŸ“ æ›´æ–°å†å²

### v4.0 (2025-11-20)

**é‡å¤§æ›´æ–°**:
- ğŸ¯ **å®Œå…¨é‡æ„æ–‡æ¡£ç»„ç»‡ç»“æ„**ï¼šä¸¥æ ¼æŒ‰ç…§æ•°æ®åº“èœå•æ ‘(sys_menu)ç»„ç»‡
- âœ… æ–°å¢æ’è¯¾ç®¡ç†æ¨¡å—ï¼š`GET /api/schedule/init-data` è·å–æ’è¯¾åˆå§‹åŒ–æ•°æ®
- âœ… æ–°å¢æ•™å¸ˆ-ç§‘ç›®å…³è”æ¥å£ï¼š`GET /api/teacher/subject/{subjectId}`
- âœ… å®Œå–„è§’è‰²ç®¡ç†æ¨¡å—ï¼šå¢åˆ æ”¹æŸ¥ã€ç”¨æˆ·å…³è”å…±6ä¸ªæ¥å£
- âœ… èœå•IDä¸æ¥å£å®Œå…¨å¯¹åº”ï¼Œæ–¹ä¾¿å‰ç«¯å¼€å‘
- ğŸ“‹ æ‰€æœ‰èœå•é¡¹éƒ½æ ‡æ³¨äº†å¯¹åº”çš„èœå•ID

**æ–‡æ¡£ç»„ç»‡**:
- æŒ‰ç…§8ä¸ªä¸€çº§èœå•ç»„ç»‡ï¼šé¦–é¡µã€ç”¨æˆ·ç®¡ç†ã€èœå•ç®¡ç†ã€å­¦ç”Ÿç®¡ç†ã€æ•™å¸ˆç®¡ç†ã€ç­çº§ç®¡ç†ã€è¯¾ç¨‹ç®¡ç†ã€è¯·å‡ç®¡ç†ã€å®¡æ‰¹ç®¡ç†
- å­èœå•ä¸¥æ ¼å¯¹åº”sys_menuçš„parent_idå…³ç³»
- æŒ‰é’®æƒé™å•ç‹¬æ ‡æ³¨IDï¼Œæ–¹ä¾¿æƒé™æ§åˆ¶

**ç»Ÿè®¡æ•°æ®**:
- ä¸€çº§èœå•ï¼š9ä¸ª
- äºŒçº§èœå•ï¼š17ä¸ª
- æŒ‰é’®æƒé™ï¼š23ä¸ª
- å·²å®ç°æ¥å£ï¼šçº¦60ä¸ª
